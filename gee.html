<!-- <!DOCTYPE html>
<html lang="en-UK">
<head>
  <Title> Linus Agbleze (GEE tutorial)</Title>
  <meta charset="UTF-8">
  <meta charset="UTF-8">
  <meta name="keywords" content="Linus Agbleze, Linus biography, Strive code preparation, Learn to code">
  <meta name="description" content="Agrimetry support to small scale farmers">
  <meta name="author" content="Linus Agbleze">
  <meta http-equiv="refresh" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="gee.css"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script> /*
		$(document).ready(function () {
		// Hide all sections when the page is first loaded
		$(".mySection").hide();
		// Setup all elements with class "myButton" to react on click
		$(".myButton").click( function() {
			// Check if the section is already displayed
			if ($(this).html()=="Hide") {
				// Hide the current section
				var sectionID = $(this).attr("data-showsection");
				$("#"+sectionID).hide();
				// Set the button label to "Show"
				$(this).html("Show");
			} else {
				// Hide all sections, using the class mySection
				$(".mySection").hide();
				// Set all button labels to "Show"
				$(".myButton").html("Show");
				// Show the section we want to display
				var sectionID = $(this).attr("data-showsection");
				$("#"+sectionID).show();
				// Set the button label to "hide"
				$(this).html("Show");
			}
		});
	});	 */
	</script>

     Global site tag (gtag.js) - Google Analytics 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M9ZFRS74KZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M9ZFRS74KZ');
</script>
</head>
-->
<body style="## display: grid">
  
    <!--   
    <sidebar class="sidebar">
        <div style="display: inline-flex"><img src="gee-tut.png" style="width: 15%; height: 15%;" class="title-logo"><h2>Google Earth Engine (GEE)</h2></div>
        <div>
            <span href = "GEE-intro"><a href ="#" class = "topic-link"><h3><i class="fas fa-book"></i>Introduction to GEE</h3></a></span>

        </div>

        <div>
            <div><a href = "#"  class = "topic-link"><h3><i class="fas fa-book"></i>Normalized Difference Vegetation Index (NDVI) </h3></a></div>            
            
        </div>
        <div class="file-align">
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Why GEE for Time series analysis</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Coding practice</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Interpretation of results</a></div>
        </div>

        <div>
            <div><a href ="#" class = "topic-link"><h3><i class="fas fa-book"></i>Random Forest classification (Binary)</h3></a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Why GEE for Time series analysis</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Coding practice</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Interpretation of results</a></div>
        </div>

        <div>
            <div><a href ="#" class = "topic-link"><h3><i class="fas fa-book"></i>Time Series analysis of biomes</h3></a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Time series analysis with GEE</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Why GEE for Time series analysis</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Coding practice</a></div>
            <div><a href ="#" class = "topic-link"><i class="fas fa-file-alt"></i>Interpretation of results</a></div>
        </div>
                
    </sidebar>
    -->
    <main class = "mainHide">
        
        <div href = "GEE-intro">
            <h3>Introduction to Google Earth Engine Analysis</h3>
            <p><!--The era of big data calls for the use of tools with capacity to analyze large 
                volumes of data at fast pace as well as gain deeper understanding of long 
                term spatio-temporal phenomena. Arguably, big data analysis                        
                requires capacities that lies beyond the scope of most conventional
                remote sensing software. This page in demonstrating the practice of techniques 
                in analyzing big data, uses Google Earth Engine for a plethora of geospatial 
                analysis including Normalized Difference Vegetation Index
                (NDVI) estimation, binary classification and time series analysis among others. 
                Google Earth Engine (GEE) is a cloud computing platform for geospatial analysis 
                of global coverage. GEE allows the use of both Graphic User Interface (GUI) 
                and Coding User Interface for analysis. The Coding User Interface supports Python 
                and Java-script for coding and an interface for visualization. For this exercise, 
                Java-script was used in the Coding User Interface for creating processing chain 
                for analyzing NDVI Landsat 8 imagery, Random Forest classification of water and
                no water regions and inspecting time series over different biomes.Dataset used 
                varied from different sensors to include Landsat 8, Sentinel-2, and MODIS. 
                The workflow is illustrated graphically for the purpose of clarity. Insights 
                are also provided on the rational behind the various techniques used and 
                supplemented with links to codes. Further, the results of the various analysis 
                are captured and interpreted accordingly. A great utility in the use of Google 
                Earth Engine and R programming (see section for tutorial) which is explored in
                these exercises are  their ability to automate geospatial processes for a large 
                volume of data with high velocity.
            -->

            The era of big data is here with us and we will need tools that can handle analysis of  large 
            volumes of data produce at fast pace as well as gain deeper understanding of long 
            term spatio-temporal phenomena. Arguably, big data analysis requires capacities that lies 
            beyond the scope of most conventional remote sensing software. Google Earth Engine is one 
            of such tools. Google Earth Engine (GEE) is a cloud computing platform for geospatial analysis 
            of global coverage. GEE allows the use of both Graphic User Interface (GUI) and Coding User 
            Interface for analysis. The Coding User Interface supports Python and Java-script for coding 
            and an interface for visualization. The main advantage of using the coding interface is ability 
            to automate the geospatial analysis and code reuse. With the understanding we have gained so far, 
            we can walk straight to the use of GEE for analysis. We will do that with Javascript in the 
            Coding User Interface. By the end of this tutorial, we will achieve the following objectives with GEE;
            <ul>
                <li>
                    Design a workflow to undertaking NDVI analysis with GEE
                </li>
                <li>
                    Load and preprocess Landsat 8 image in GEE
                </li>
                <li>
                    Undertake NDVI analysis
                </li>
            </ul>
            </p>   
        </div>

        <div>
            <h4>
                Normalized Difference Vegetation Index (NDVI) estimation
            </h4>
            <p>
                NDVI estiamtes the ratio between difference between Near Infrared (NIR) and red (RED) band on one hand
                and the summation of the NIR and RED. We will be using Landsat 8 for the analysis where
                <br>
                RED is band 4 with wavelength of 0.64µm to 0.67µm; <br>
                NIR is band 5 with wavelength of 0.85µm to 0.88µm. <br>
                The formula for calculating NDVI is depicted as follows; <br>

                NDVI = (NIR - RED) / (NIR + RED) <br>
            </p>
        </div>
        
        <div id="ndvi" class = "mySection">
            <h3>Analyzing NDVI</h3>
            <h4>Create a processing chain for Landsat 8 imagery (workflow)</h4>
            <p>
                Now that we know the bands to use and the formulae for calculation of NDVI, we need know
                the workflow that await us to complete the analysis. The workflow for NDVI in GEE is depicted
                below and link to executing it also provided.
            </p>

            <div>
                <h4> Processing chain for Landsat 8 imagery</h4>
                <div class="fig-img"> <!--Processing workflow for NDVI-->
                    <img src="NDVI process GEE.jpg" class="fig-img2">            
                </div>
                <small>Source: Author</small>        
            </div>

            <div>
                To run the workflow above in GEE, we need to write codes in GEE. The link to the code to use can be
                  access at this<a href="https://code.earthengine.google.com/f803d11fa49e44a834412d0565076396" target="_blank"> link</a>
            </div>
            <div>
                <h4>Explanation of the processing chain code</h4>
            <p>
                The processing chain for Landsat 8 imagery starts by first importing the Surface 
                Reflectance dataset and assigning it to a variable. The dataset imported has an 
                ImageCollection ID being LANDSAT/LC08/C01/T1_SR. The dataset 
                 is atmospherically corrected and has 5 visible and near-infrared (VNIR) bands, 
                2 short-wave infrared (SWIR) bands and two thermal infrared (TIR). The image collection 
                is reduced by filtering it by time which is from 1st January 2018 to 31st 
                December 2018 and the Area of Interest (AOI) used to filter by location is 
                south-western part of Finland. Further, cloud masking function is created to 
                remove clouds and applied over the image collection to depict a clear condition 
                over the image collection and this completes the preprocessing of the image. 
                Now, we can estimate NDVI by applying “ .normalizedDifference() ”  function
                to the image. 
                
                
            </p>

            <h4>Calculating maximum NDVI</h4>
            <p>
                To calculate the maximum NDVI of the collection, the “ .max” function is applied over the  
                NDVI collection. The maximum NDVI calculated over the collection was 1.0 which corresponds to 
                dense green vegetation in the area of interest. This is displayed as a layer over the 
                 map using “addLayer”. 
            </p>
            </div>

            <!-- 
            <div class="code-container">
                <code class="codeBlock">
                    //Load  Landsat-8 Surface Reflectance collection     
                    var LS8collection = ee.ImageCollection('LANDSAT/LC08/C01/T1_SR')
                    // Filter by the region of interest
                    .filterBounds(aoi)
                    // Filter collection by time ('Year-month-day')
                    .filterDate('2018-01-01', '2018-12-31');
                    
                    print(LS8collection);
                    
                    // Create cloud mask function
                    function applyQAlandsat (image) {
                    var mask = image.select('pixel_qa').bitwiseAnd(32).eq(0)
                    .and(image.select('pixel_qa').bitwiseAnd(8).eq(0))
                    .and(image.select('pixel_qa').bitwiseAnd(4).eq(0));
                    return image.updateMask(mask);
                    }
                    
                    // Apply cloud masking function on the collection
                    var cloudMasked_Collection = LS8collection.map(applyQAlandsat);
                    
                    // Display result of cloudmasking 
                    Map.addLayer( cloudMasked_Collection, {'bands': 'B4,B3,B2', 'min': 0, 'max': 3000}, 'Result of cloudmasking');
                    Map.centerObject(aoi,6);
                    
                    // Compute Normalized Difference Vegetation Index over Landsat 8 product.
                    // NDVI = (NIR - RED) / (NIR + RED), where
                    // RED is band 4,  0.64µm - 0.67µm
                    // NIR is 5,  0.85µm - 0.88µm
                    
                    // Function to create NDVI 
                    var addNDVI = function(im){
                    
                    var ndvi = im.select(['B5','B4']).normalizedDifference();
                    return ndvi;
                    
                    };
                    
                    
                    /////////////////////////////////////////////////////////////////
                    ///// Mapping NDVI over image collection      //////////////////
                    
                    // Apply a function to calculate NDVI over the collection
                    var ndviCollection = cloudMasked_Collection.map(addNDVI);
                    print(ndviCollection.max()); //Returns the maximum NDVI in the collection
                    var MaxNDVI = ndviCollection.max();
                    
                    print(MaxNDVI);
                    
                    // Add Maximum NDVI of collection on map
                    Map.addLayer(MaxNDVI,  { min: -0.8, max: 0.8,'palette': 'FF0000,FFFF00,00FF00'},'Maximum NDVI of collection');
                    Map.centerObject(aoi,6);
                    
                    
                    //// Get the Maximum NDVI value  over region of interest //////
                    var maxAOI = MaxNDVI.clip(aoi)
                    .reduceRegion({
                        reducer: ee.Reducer.max(),
                        geometry: aoi,
                        scale: 30})
                    .get('nd');
                    
                    print(maxAOI);
                </code>
            </div>
            -->
    
            <div>
                <h4>Results of NDVI calculation</h4>
                <div class="fig-img"> <!--Figure of NDVI-->
                    <img src="NDVI result.jpg" class="fig-img2">
                </div>               
                <small>Source: Author</small>
            </div>
    
        </div> 

    <span style = "display: block"></span>

    <!--  
    <footer style= "z-index: -1;">
        <div class="foot align-all">
            <div class="foot-items">
                <div id="contact"><h4>Contact</h4>
                    <address id="opr"; Style="text-align:left;">
    
                        Am Jesuitenhof<br>
                        Bonn<br>
                        Nordrhine Westphalia<br>  
                        Germany<br>
                        Lagbleze@st.ug.edu.gh<br>
                        +4915175701653<br>
                        </address>
                        
                        <script>
                        function myFunc5(){
                          document.getElementById("opr").style.fontSize= "20px";
                          document.getElementById("opr").style.color = "red";
                          document.getElementById("opr").style.backgroundColor = "yellow";
                        }
                        </script>
                        <button type="button" onclick="myFunc5()">Magnify</button>
                        
                </div>
            </div>
    
            
            <div class="foot-items">
                <div id="projects">
                    <h4>Project collaboration</h4>
                    <p><a href="">Seed 4 Seed project with ACESWorld</a></p>
                    <p><a href="">Pad4Learing project with ACESWorld</a></p>
                    <a href=""></a>
                </div>
            </div>
    
            <div class="foot-items">
                <div id="publish">
                   <h4> Pulications </h4>
                    <p><a href="">Gendered perspective: Climate change adaptation in Malawi</a></p>
                    <p><a href="">Digitalization and innovation as a driver of sole proprietorship in Ghana</a></p>
                    <p><a href="">
                        Climate change mitigation-adaptation matrix: a better tool and benchmark for climate action with policy implication at local and national level.
                        </a>
                    </p>
                    <h5>Blog posts</h5>
                    <p><a href="">Gendered perspective: Climate change adaptation in Malawi</a></p>
                    <p><a href="">COVID-19 SET TO THWART CLIMATE CHANGE ADAPTATION WHILE AIDING MITIGATION</a></p>
                </div>
            </div>
    

        </div>
        
    </footer>
    -->
    <script>
        $(document).ready(function() {
          $("#ceres").click(function() {
            $(".mainHide").hide();
            $("span").load("conferenceCERES.html")
          })
  
          $("#bet").click(function() {
            $(".mainHide").hide();
            $("span").load("conf.html")
          })
          /*
          $("#toolset").click(function() {
            $(".mainHide").hide();
            $("span").load("toolset.html")
          })
  
          /* $("#migrant").click(function() {
            $(".mainHide").hide();
            $("span").load("")
          }) */       
        })
  
      </script>
    

</body>


</html>

